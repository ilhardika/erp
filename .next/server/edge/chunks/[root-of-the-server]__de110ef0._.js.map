{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { withAuth } from 'next-auth/middleware'\nimport { NextResponse } from 'next/server'\n\nexport default withAuth(\n  function middleware(req) {\n    // Redirect to dashboard if accessing root while authenticated\n    if (req.nextUrl.pathname === '/' && req.nextauth.token) {\n      return NextResponse.redirect(new URL('/dashboard', req.url))\n    }\n\n    // Redirect unauthenticated users on root to login\n    if (req.nextUrl.pathname === '/' && !req.nextauth.token) {\n      return NextResponse.redirect(new URL('/login', req.url))\n    }\n\n    return NextResponse.next()\n  },\n  {\n    callbacks: {\n      authorized: ({ token, req }) => {\n        // Allow login and register pages without authentication\n        if (req.nextUrl.pathname.startsWith('/login') || \n            req.nextUrl.pathname.startsWith('/register')) {\n          return true\n        }\n        // Require authentication for dashboard routes\n        if (req.nextUrl.pathname.startsWith('/dashboard')) {\n          return !!token\n        }\n        // Allow root path (will be handled in middleware function)\n        if (req.nextUrl.pathname === '/') {\n          return true\n        }\n        return !!token\n      }\n    }\n  }\n)\n\nexport const config = {\n  matcher: [\n    '/',\n    '/dashboard/:path*',\n    '/login',\n    '/register'\n  ]\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;uCAEe,CAAA,GAAA,kJAAA,CAAA,WAAQ,AAAD,EACpB,SAAS,WAAW,GAAG;IACrB,8DAA8D;IAC9D,IAAI,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,IAAI,QAAQ,CAAC,KAAK,EAAE;QACtD,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,IAAI,GAAG;IAC5D;IAEA,kDAAkD;IAClD,IAAI,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,CAAC,IAAI,QAAQ,CAAC,KAAK,EAAE;QACvD,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,IAAI,GAAG;IACxD;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC1B,GACA;IACE,WAAW;QACT,YAAY,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACzB,wDAAwD;YACxD,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,aAChC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,cAAc;gBAChD,OAAO;YACT;YACA,8CAA8C;YAC9C,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,eAAe;gBACjD,OAAO,CAAC,CAAC;YACX;YACA,2DAA2D;YAC3D,IAAI,IAAI,OAAO,CAAC,QAAQ,KAAK,KAAK;gBAChC,OAAO;YACT;YACA,OAAO,CAAC,CAAC;QACX;IACF;AACF;AAGK,MAAM,SAAS;IACpB,SAAS;QACP;QACA;QACA;QACA;KACD;AACH"}}]
}