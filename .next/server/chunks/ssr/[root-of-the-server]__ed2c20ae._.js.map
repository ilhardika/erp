{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Personal/Dibimbing%20Front%20End/Code/Project/erp/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport { signIn, getSession } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const router = useRouter();\n\n  const handleSubmit = useCallback(\n    async (e: React.FormEvent) => {\n      e.preventDefault();\n      setIsLoading(true);\n      setError(\"\");\n\n      try {\n        console.log(\"Attempting login for:\", email);\n        const result = await signIn(\"credentials\", {\n          email,\n          password,\n          redirect: false,\n        });\n\n        console.log(\"SignIn result:\", result);\n\n        if (result?.error) {\n          console.error(\"Login error:\", result.error);\n          if (result.error === \"CredentialsSignin\") {\n            setError(\"Email atau password salah\");\n          } else {\n            setError(\"Terjadi kesalahan saat login. Silakan coba lagi.\");\n          }\n        } else if (result?.ok) {\n          console.log(\"Login successful, getting session...\");\n          // Get session to verify login\n          const session = await getSession();\n          console.log(\"Session:\", session);\n          if (session) {\n            router.push(\"/dashboard\");\n          } else {\n            setError(\"Gagal mendapatkan session. Silakan coba lagi.\");\n          }\n        }\n      } catch (err) {\n        console.error(\"Login catch error:\", err);\n        setError(\"Terjadi kesalahan. Silakan coba lagi.\");\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [email, password, router]\n  );\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"max-w-md w-full space-y-8 p-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-bold text-gray-900\">\n            Masuk ke Bizflow\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Sistem ERP + POS untuk bisnis Anda\n          </p>\n        </div>\n\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"space-y-4\">\n            <div>\n              <label\n                htmlFor=\"email\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Email\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Masukkan email Anda\"\n              />\n            </div>\n\n            <div>\n              <label\n                htmlFor=\"password\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                required\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Masukkan password Anda\"\n              />\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"text-red-600 text-sm text-center\">{error}</div>\n          )}\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? \"Memproses...\" : \"Masuk\"}\n            </button>\n          </div>\n\n          <div className=\"text-center\">\n            <p className=\"text-sm text-gray-600\">\n              Belum punya akun?{\" \"}\n              <Link\n                href=\"/register\"\n                className=\"font-medium text-blue-600 hover:text-blue-500\"\n              >\n                Daftar di sini\n              </Link>\n            </p>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAC7B,OAAO;QACL,EAAE,cAAc;QAChB,aAAa;QACb,SAAS;QAET,IAAI;YACF,QAAQ,GAAG,CAAC,yBAAyB;YACrC,MAAM,SAAS,MAAM,CAAA,GAAA,8IAAA,CAAA,SAAM,AAAD,EAAE,eAAe;gBACzC;gBACA;gBACA,UAAU;YACZ;YAEA,QAAQ,GAAG,CAAC,kBAAkB;YAE9B,IAAI,QAAQ,OAAO;gBACjB,QAAQ,KAAK,CAAC,gBAAgB,OAAO,KAAK;gBAC1C,IAAI,OAAO,KAAK,KAAK,qBAAqB;oBACxC,SAAS;gBACX,OAAO;oBACL,SAAS;gBACX;YACF,OAAO,IAAI,QAAQ,IAAI;gBACrB,QAAQ,GAAG,CAAC;gBACZ,8BAA8B;gBAC9B,MAAM,UAAU,MAAM,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;gBAC/B,QAAQ,GAAG,CAAC,YAAY;gBACxB,IAAI,SAAS;oBACX,OAAO,IAAI,CAAC;gBACd,OAAO;oBACL,SAAS;gBACX;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sBAAsB;YACpC,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF,GACA;QAAC;QAAO;QAAU;KAAO;IAG3B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;;sCACC,8OAAC;4BAAG,WAAU;sCAAoD;;;;;;sCAGlE,8OAAC;4BAAE,WAAU;sCAAyC;;;;;;;;;;;;8BAKxD,8OAAC;oBAAK,WAAU;oBAAiB,UAAU;;sCACzC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CACC,SAAQ;4CACR,WAAU;sDACX;;;;;;sDAGD,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,QAAQ;4CACR,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4CACxC,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,8OAAC;;sDACC,8OAAC;4CACC,SAAQ;4CACR,WAAU;sDACX;;;;;;sDAGD,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,QAAQ;4CACR,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;4CACV,aAAY;;;;;;;;;;;;;;;;;;wBAKjB,uBACC,8OAAC;4BAAI,WAAU;sCAAoC;;;;;;sCAGrD,8OAAC;sCACC,cAAA,8OAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,YAAY,iBAAiB;;;;;;;;;;;sCAIlC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;oCAAwB;oCACjB;kDAClB,8OAAC,4JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf","debugId":null}}]
}